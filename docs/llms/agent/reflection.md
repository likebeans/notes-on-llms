---
title: åæ€æ¨¡å¼
description: Reflection - æ™ºèƒ½ä½“çš„è‡ªæˆ‘æ”¹è¿›æœºåˆ¶
---

# åæ€æ¨¡å¼ï¼ˆReflectionï¼‰

> é€šè¿‡å¼•å…¥åé¦ˆå¾ªçŽ¯ï¼Œè®©æ™ºèƒ½ä½“ä»Žã€Œä¸€æ¬¡æ€§æ‰§è¡Œã€è¿›åŒ–ä¸ºã€Œè¿­ä»£æ”¹è¿›ã€ï¼Œæ˜¯æž„å»ºé«˜è´¨é‡è¾“å‡ºçš„å…³é”®æœºåˆ¶ã€‚

## ðŸŽ¯ ä»€ä¹ˆæ˜¯åæ€æ¨¡å¼ï¼Ÿ

**åæ€**ï¼ˆReflectionï¼‰æ˜¯æŒ‡æ™ºèƒ½ä½“**è¯„ä¼°è‡ªå·±çš„å·¥ä½œã€è¾“å‡ºå’Œå†…éƒ¨çŠ¶æ€**ï¼Œå¹¶åˆ©ç”¨è¯„ä¼°ç»“æžœæ¥**æ”¹è¿›æ€§èƒ½å’Œä¼˜åŒ–å“åº”**ã€‚è¿™æ˜¯ä¸€ç§**è‡ªæˆ‘çº æ­£**æˆ–**è‡ªæˆ‘æ”¹è¿›**çš„å½¢å¼ã€‚

### å››ç§æ¨¡å¼çš„æ¼”è¿›

| ç« èŠ‚ | æ¨¡å¼ | æ ¸å¿ƒèƒ½åŠ› | è§£å†³é—®é¢˜ |
|------|------|----------|----------|
| ç¬¬ä¸€ç«  | **æç¤ºé“¾** | é¡ºåºæ‰§è¡Œ | æ€Žä¹ˆèµ°ï¼Ÿ |
| ç¬¬äºŒç«  | **è·¯ç”±** | åŠ¨æ€å†³ç­– | èµ°å“ªæ¡è·¯ï¼Ÿ |
| ç¬¬ä¸‰ç«  | **å¹¶è¡ŒåŒ–** | åŒæ—¶æ‰§è¡Œ | èµ°å¤šå¿«ï¼Ÿ |
| ç¬¬å››ç«  | **åæ€** | è‡ªæˆ‘æ”¹è¿› | èµ°å¾—å¥½ä¸å¥½ï¼Ÿ |

### ä¸Žå…¶ä»–æ¨¡å¼çš„æœ¬è´¨åŒºåˆ«

| æ¨¡å¼ | ç‰¹ç‚¹ |
|------|------|
| **æç¤ºé“¾** | è¾“å‡ºç›´æŽ¥ä¼ ç»™ä¸‹ä¸€æ­¥ |
| **è·¯ç”±** | åœ¨ä¸åŒè·¯å¾„ä¸­åšé€‰æ‹© |
| **åæ€** | å¼•å…¥**åé¦ˆå¾ªçŽ¯**ï¼Œå®¡è§†å¹¶æ”¹è¿›è‡ªå·±çš„è¾“å‡º |

---

## ðŸ”„ åæ€çš„å››ä¸ªæ­¥éª¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       åæ€å¾ªçŽ¯                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â‘  æ‰§è¡Œï¼ˆExecutionï¼‰                                           â”‚
â”‚     æ™ºèƒ½ä½“æ‰§è¡Œä»»åŠ¡ï¼Œç”Ÿæˆåˆå§‹ç‰ˆæœ¬çš„è¾“å‡º                          â”‚
â”‚                     â”‚                                          â”‚
â”‚                     â–¼                                          â”‚
â”‚  â‘¡ è¯„ä¼°/å‰–æžï¼ˆEvaluation/Critiqueï¼‰                            â”‚
â”‚     åˆ†æžç»“æžœï¼šå‡†ç¡®æ€§ã€è¿žè´¯æ€§ã€å®Œæ•´åº¦ç­‰                          â”‚
â”‚                     â”‚                                          â”‚
â”‚                     â–¼                                          â”‚
â”‚  â‘¢ åæ€/ä¼˜åŒ–ï¼ˆReflection/Refinementï¼‰                          â”‚
â”‚     æ ¹æ®è¯„ä¼°ç»“æžœç¡®å®šæ”¹è¿›æ–¹å‘å¹¶ä¿®æ”¹                              â”‚
â”‚                     â”‚                                          â”‚
â”‚                     â–¼                                          â”‚
â”‚  â‘£ è¿­ä»£ï¼ˆIterationï¼‰                                           â”‚
â”‚     é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°æ»¡æ„æˆ–è¾¾åˆ°åœæ­¢æ¡ä»¶                        â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯„ä¼°çš„ç»´åº¦

| ç»´åº¦ | è¯´æ˜Ž |
|------|------|
| **äº‹å®žå‡†ç¡®æ€§** | ä¿¡æ¯æ˜¯å¦æ­£ç¡®ï¼Ÿ |
| **å†…å®¹è¿žè´¯æ€§** | é€»è¾‘æ˜¯å¦é€šé¡ºï¼Ÿ |
| **é£Žæ ¼ä¸€è‡´æ€§** | è¯­æ°”æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Ÿ |
| **å®Œæ•´åº¦** | æ˜¯å¦é—æ¼é‡è¦å†…å®¹ï¼Ÿ |
| **æŒ‡ä»¤éµä»Ž** | æ˜¯å¦æŒ‰è¦æ±‚æ‰§è¡Œï¼Ÿ |

---

## ðŸ‘¥ ç”Ÿäº§è€…-è¯„è®ºè€…æ¨¡åž‹

### ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªè§’è‰²ï¼Ÿ

å•ä¸ªæ™ºèƒ½ä½“è¿›è¡Œè‡ªæˆ‘åæ€æœ‰ä¸€ä¸ªé—®é¢˜ï¼š**è®¤çŸ¥åè§**ã€‚

å°±åƒä½œè€…å¾ˆéš¾å‘çŽ°è‡ªå·±æ–‡ç« ä¸­çš„é—®é¢˜ä¸€æ ·ï¼Œæ™ºèƒ½ä½“å®¡æŸ¥è‡ªå·±çš„è¾“å‡ºæ—¶ä¹Ÿå®¹æ˜“"ç¯ä¸‹é»‘"ã€‚

### ä¸¤ä¸ªè§’è‰²çš„åˆ†å·¥

| è§’è‰² | èŒè´£ | ç‰¹ç‚¹ |
|------|------|------|
| **ç”Ÿäº§è€…ï¼ˆProducerï¼‰** | æ‰§è¡Œä»»åŠ¡ï¼Œç”Ÿæˆå†…å®¹ | ä¸“æ³¨äºŽåˆ›ä½œ |
| **è¯„è®ºè€…ï¼ˆCriticï¼‰** | è¯„ä¼°è¾“å‡ºï¼Œæä¾›åé¦ˆ | ä¸“æ³¨äºŽæŒ‘é”™ |

### è¯„è®ºè€…çš„è§’è‰²è®¾å®š

è¯„è®ºè€…é€šå¸¸è¢«èµ‹äºˆä¸€ä¸ª**ä¸“ä¸šè§’è‰²**ï¼š

- "ä½ æ˜¯ä¸€ä½**é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ**"
- "ä½ æ˜¯ä¸€ä½**ä¸¥è°¨çš„äº‹å®žæ ¸æŸ¥å‘˜**"
- "ä½ æ˜¯ä¸€ä½**èµ„æ·±ç¼–è¾‘**"

### å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”Ÿäº§è€…-è¯„è®ºè€…æ¨¡åž‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [åˆå§‹ä»»åŠ¡]                                                     â”‚
â”‚      â”‚                                                          â”‚
â”‚      â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚   ðŸ”¨ ç”Ÿäº§è€…      â”‚                                           â”‚
â”‚  â”‚  ç”Ÿæˆåˆå§‹è¾“å‡º    â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚                                                     â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚   ðŸ” è¯„è®ºè€…      â”‚  â† "ä½ æ˜¯é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œè¯·å®¡æŸ¥ä»£ç "        â”‚
â”‚  â”‚  è¯„ä¼°å¹¶æåé¦ˆ    â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚                                                     â”‚
â”‚           â–¼                                                     â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚      â”‚  å®Œç¾Žäº†ï¼Ÿ  â”‚                                             â”‚
â”‚      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚            â”‚                                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚     â”‚ æ˜¯          â”‚ å¦                                          â”‚
â”‚     â–¼             â–¼                                             â”‚
â”‚  è¾“å‡ºç»“æžœ     åé¦ˆç»™ç”Ÿäº§è€… â†’ ä¿®æ”¹ â†’ è¿”å›žè¯„è®ºè€…                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### èŒè´£åˆ†ç¦»çš„ä»·å€¼

| ä¼˜åŠ¿ | è¯´æ˜Ž |
|------|------|
| **é¿å…è®¤çŸ¥åè§** | è¯„è®ºè€…ä»¥å…¨æ–°è§†è§’å®¡è§† |
| **ä¸“ä¸šåŒ–è¯„ä¼°** | è¯„è®ºè€…å¯ä»¥æ˜¯ç‰¹å®šé¢†åŸŸä¸“å®¶ |
| **ç»“æž„åŒ–åé¦ˆ** | åé¦ˆæ›´æœ‰é’ˆå¯¹æ€§ã€æ›´ç³»ç»Ÿ |
| **æ›´é«˜å®¢è§‚æ€§** | ä¸ä¼š"æŠ¤çŸ­" |

### ä»£ç å®žçŽ°

**æ ¸å¿ƒæ€è·¯**ï¼šç”¨ä¸¤ä¸ªä¸åŒçš„ç³»ç»Ÿæç¤ºè¯åˆ†åˆ«åˆ›å»ºç”Ÿäº§è€…å’Œè¯„è®ºè€…ï¼Œç„¶åŽåœ¨å¾ªçŽ¯ä¸­äº¤æ›¿è°ƒç”¨ã€‚

```python
# 1. å®šä¹‰ä¸¤ä¸ªè§’è‰²çš„æç¤ºè¯
producer_prompt = """ä½ æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆä¸“å®¶ã€‚æ ¹æ®ç”¨æˆ·éœ€æ±‚ç¼–å†™ä»£ç ã€‚"""

critic_prompt = """ä½ æ˜¯ä¸€ä½é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆã€‚
å®¡æŸ¥ä»¥ä¸‹ä»£ç ï¼ŒæŒ‡å‡ºé—®é¢˜å¹¶ç»™å‡ºæ”¹è¿›å»ºè®®ã€‚
å¦‚æžœä»£ç å·²å®Œç¾Žï¼Œåªéœ€å›žå¤"LGTM"ã€‚"""

# 2. ç”Ÿæˆåˆå§‹è¾“å‡º
current_output = llm.invoke(producer_prompt + user_task)

# 3. åæ€å¾ªçŽ¯
max_iterations = 3
for i in range(max_iterations):
    # è¯„è®ºè€…å®¡æŸ¥
    critique = llm.invoke(critic_prompt + current_output)
    
    # æ£€æŸ¥æ˜¯å¦æ»¡æ„
    if "LGTM" in critique:
        break
    
    # ç”Ÿäº§è€…æ ¹æ®åé¦ˆä¿®æ”¹
    refine_prompt = f"""
    åŽŸå§‹ä»£ç ï¼š{current_output}
    å®¡æŸ¥åé¦ˆï¼š{critique}
    è¯·æ ¹æ®åé¦ˆæ”¹è¿›ä»£ç ã€‚
    """
    current_output = llm.invoke(producer_prompt + refine_prompt)

# 4. è¿”å›žæœ€ç»ˆç»“æžœ
return current_output
```

**LangChain å®žçŽ°**ï¼š

```python
from langchain_openai import ChatOpenAI
from langchain_core.prompts import ChatPromptTemplate

# åˆ›å»ºä¸¤ä¸ªé“¾
producer_chain = ChatPromptTemplate.from_messages([
    ("system", producer_prompt),
    ("human", "{task}")
]) | ChatOpenAI()

critic_chain = ChatPromptTemplate.from_messages([
    ("system", critic_prompt),
    ("human", "è¯·å®¡æŸ¥ï¼š{output}")
]) | ChatOpenAI()

# å¾ªçŽ¯è°ƒç”¨
output = producer_chain.invoke({"task": user_task})
for _ in range(max_iterations):
    critique = critic_chain.invoke({"output": output})
    if is_satisfied(critique):
        break
    output = producer_chain.invoke({"task": f"{user_task}\nåé¦ˆï¼š{critique}"})
```

**å®žçŽ°è¦ç‚¹**ï¼š

| è¦ç‚¹ | è¯´æ˜Ž |
|------|------|
| **ä¸åŒè§’è‰²** | ç”Ÿäº§è€…å’Œè¯„è®ºè€…ç”¨ä¸åŒçš„ç³»ç»Ÿæç¤ºè¯ |
| **åœæ­¢æ¡ä»¶** | è¯„è®ºè€…è¯´"LGTM"æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•° |
| **åé¦ˆä¼ é€’** | æŠŠè¯„è®ºè€…çš„åé¦ˆä½œä¸ºç”Ÿäº§è€…ä¸‹ä¸€è½®çš„è¾“å…¥ |
| **ç»“æž„åŒ–åé¦ˆ** | è¯„è®ºè€…åº”ç»™å‡ºå…·ä½“é—®é¢˜å’Œæ”¹è¿›å»ºè®® |

---

## ðŸ“‹ å…­å¤§åº”ç”¨åœºæ™¯

### 1. åˆ›æ„å†™ä½œå’Œå†…å®¹ç”Ÿæˆ

| ç”¨ä¾‹ | åæ€è¿‡ç¨‹ | ä»·å€¼ |
|------|----------|------|
| æ’°å†™åšå®¢æ–‡ç«  | å†™è‰ç¨¿ â†’ æ£€æŸ¥æµç•…æ€§ã€è¯­æ°” â†’ é‡å†™ | æ›´ç²¾è‡´çš„å†…å®¹ |

### 2. ä»£ç ç”Ÿæˆå’Œè°ƒè¯•

| ç”¨ä¾‹ | åæ€è¿‡ç¨‹ | ä»·å€¼ |
|------|----------|------|
| ç¼–å†™Pythonå‡½æ•° | å†™ä»£ç  â†’ è¿è¡Œæµ‹è¯• â†’ è¯†åˆ«é”™è¯¯ â†’ ä¿®å¤ | æ›´å¥å£®çš„ä»£ç  |

### 3. å¤æ‚é—®é¢˜è§£å†³

| ç”¨ä¾‹ | åæ€è¿‡ç¨‹ | ä»·å€¼ |
|------|----------|------|
| é€»è¾‘æŽ¨ç†è°œé¢˜ | æå‡ºæ­¥éª¤ â†’ è¯„ä¼°æ˜¯å¦æŽ¨è¿› â†’ å›žé€€æˆ–è°ƒæ•´ | æ›´å¼ºçš„é—®é¢˜å¯¼èˆª |

### 4. æ‘˜è¦å’Œä¿¡æ¯ç»¼åˆ

| ç”¨ä¾‹ | åæ€è¿‡ç¨‹ | ä»·å€¼ |
|------|----------|------|
| æ€»ç»“é•¿æ–‡æ¡£ | ç”Ÿæˆæ‘˜è¦ â†’ å¯¹ç…§åŽŸæ–‡ â†’ è¡¥å……é—æ¼ | æ›´å‡†ç¡®çš„æ‘˜è¦ |

### 5. è§„åˆ’å’Œç­–ç•¥

| ç”¨ä¾‹ | åæ€è¿‡ç¨‹ | ä»·å€¼ |
|------|----------|------|
| åˆ¶å®šè¡ŒåŠ¨è®¡åˆ’ | ç”Ÿæˆè®¡åˆ’ â†’ è¯„ä¼°å¯è¡Œæ€§ â†’ è°ƒæ•´ | æ›´åŠ¡å®žçš„è®¡åˆ’ |

### 6. å¯¹è¯æ™ºèƒ½ä½“

| ç”¨ä¾‹ | åæ€è¿‡ç¨‹ | ä»·å€¼ |
|------|----------|------|
| å®¢æœæœºå™¨äºº | ç”Ÿæˆå›žå¤ â†’ å›žé¡¾å¯¹è¯åŽ†å² â†’ ç¡®ä¿è¿žè´¯ | æ›´è‡ªç„¶çš„æ²Ÿé€š |

---

## ðŸ”¬ å®žæˆ˜æ¡ˆä¾‹ï¼šä»£ç å®¡æŸ¥æ™ºèƒ½ä½“

### åœºæ™¯æè¿°

ç”¨æˆ·è¯·æ±‚ï¼š"å¸®æˆ‘å†™ä¸€ä¸ªè®¡ç®—é˜¶ä¹˜çš„Pythonå‡½æ•°"

### åæ€æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä»£ç å®¡æŸ¥åæ€å¾ªçŽ¯                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [ä»»åŠ¡: ç¼–å†™é˜¶ä¹˜å‡½æ•°]                                           â”‚
â”‚           â”‚                                                     â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ðŸ”¨ ç”Ÿäº§è€…ï¼ˆä»£ç ç”Ÿæˆå™¨ï¼‰                   â”‚                   â”‚
â”‚  â”‚                                          â”‚                   â”‚
â”‚  â”‚ ç”Ÿæˆåˆå§‹ä»£ç :                            â”‚                   â”‚
â”‚  â”‚ def factorial(n):                        â”‚                   â”‚
â”‚  â”‚     if n == 0:                           â”‚                   â”‚
â”‚  â”‚         return 1                         â”‚                   â”‚
â”‚  â”‚     return n * factorial(n-1)            â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ðŸ” è¯„è®ºè€…ï¼ˆé«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆï¼‰               â”‚                   â”‚
â”‚  â”‚                                          â”‚                   â”‚
â”‚  â”‚ å®¡æŸ¥åé¦ˆ:                                â”‚                   â”‚
â”‚  â”‚ 1. ç¼ºå°‘è¾“å…¥éªŒè¯ï¼ˆè´Ÿæ•°æ€Žä¹ˆåŠžï¼Ÿï¼‰          â”‚                   â”‚
â”‚  â”‚ 2. ç¼ºå°‘ç±»åž‹æç¤º                          â”‚                   â”‚
â”‚  â”‚ 3. å¤§æ•°å¯èƒ½æ ˆæº¢å‡ºï¼Œå»ºè®®ç”¨è¿­ä»£            â”‚                   â”‚
â”‚  â”‚ 4. ç¼ºå°‘æ–‡æ¡£å­—ç¬¦ä¸²                        â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ðŸ”¨ ç”Ÿäº§è€…ï¼ˆæ ¹æ®åé¦ˆä¿®æ”¹ï¼‰                 â”‚                   â”‚
â”‚  â”‚                                          â”‚                   â”‚
â”‚  â”‚ æ”¹è¿›åŽä»£ç :                              â”‚                   â”‚
â”‚  â”‚ def factorial(n: int) -> int:            â”‚                   â”‚
â”‚  â”‚     """è®¡ç®—nçš„é˜¶ä¹˜"""                    â”‚                   â”‚
â”‚  â”‚     if not isinstance(n, int) or n < 0:  â”‚                   â”‚
â”‚  â”‚         raise ValueError("éœ€è¦éžè´Ÿæ•´æ•°") â”‚                   â”‚
â”‚  â”‚     result = 1                           â”‚                   â”‚
â”‚  â”‚     for i in range(2, n + 1):            â”‚                   â”‚
â”‚  â”‚         result *= i                      â”‚                   â”‚
â”‚  â”‚     return result                        â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ðŸ” è¯„è®ºè€…ï¼ˆå†æ¬¡å®¡æŸ¥ï¼‰                     â”‚                   â”‚
â”‚  â”‚                                          â”‚                   â”‚
â”‚  â”‚ å®¡æŸ¥ç»“æžœ: âœ… ä»£ç è´¨é‡è‰¯å¥½ï¼Œæ— éœ€ä¿®æ”¹       â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚                 [è¾“å‡ºæœ€ç»ˆä»£ç ]                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®è®¾è®¡è¦ç‚¹

| è¦ç‚¹ | è¯´æ˜Ž |
|------|------|
| **ä¸“ä¸šè§’è‰²** | è¯„è®ºè€…æ˜¯"é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ" |
| **ç»“æž„åŒ–åé¦ˆ** | å…·ä½“æŒ‡å‡ºé—®é¢˜å’Œæ”¹è¿›æ–¹å‘ |
| **è¿­ä»£æ”¹è¿›** | å¾ªçŽ¯ç›´åˆ°è¯„è®ºè€…æ»¡æ„ |
| **åœæ­¢æ¡ä»¶** | æ— é—®é¢˜æˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•° |

---

## âš¡ åæ€çš„å¢žå¼ºå› ç´ 

### ä¸Žç›®æ ‡å’Œç›‘æŽ§çš„å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ðŸŽ¯ ç›®æ ‡    â”‚ â†’ æä¾›è¯„ä¼°çš„æœ€ç»ˆåŸºå‡†
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ðŸ“Š ç›‘æŽ§    â”‚ â†’ è·Ÿè¸ªè¿›åº¦ï¼Œå‘çŽ°åç¦»
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ðŸ”„ åæ€    â”‚ â†’ åˆ†æžåç¦»åŽŸå› ï¼Œè°ƒæ•´ç­–ç•¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ååŒä½œç”¨ï¼šä½¿æ™ºèƒ½ä½“ä»Žã€Œè¢«åŠ¨æ‰§è¡Œè€…ã€å˜æˆã€Œæœ‰ç›®çš„çš„è‡ªé€‚åº”ç³»ç»Ÿã€
```

### ä¸Žè®°å¿†çš„å…³ç³»

| æœ‰æ— è®°å¿† | åæ€ç‰¹ç‚¹ |
|----------|----------|
| **æ— è®°å¿†** | æ¯æ¬¡åæ€éƒ½æ˜¯ç‹¬ç«‹äº‹ä»¶ |
| **æœ‰è®°å¿†** | åæ€æˆä¸ºç´¯ç§¯æ€§å¾ªçŽ¯ï¼Œé¿å…é‡å¤çŠ¯é”™ |

---

## âš ï¸ åæ€æ¨¡å¼çš„ä»£ä»·

### æˆæœ¬ä¸Žæ”¶ç›Š

| æ”¶ç›Š | ä»£ä»· |
|------|------|
| æ›´é«˜è´¨é‡çš„è¾“å‡º | æ›´é•¿çš„å»¶è¿Ÿ |
| æ›´å‡†ç¡®çš„ç»“æžœ | æ›´é«˜çš„è®¡ç®—æˆæœ¬ |
| æ›´å¥½åœ°éµå¾ªå¤æ‚æŒ‡ä»¤ | å¯èƒ½è¶…å‡ºä¸Šä¸‹æ–‡çª—å£ |
| è‡ªæˆ‘çº é”™èƒ½åŠ› | å¯èƒ½è¢«APIé™æµ |

### ä½•æ—¶å€¼å¾—ä½¿ç”¨ï¼Ÿ

âœ… **å€¼å¾—ä½¿ç”¨**ï¼š
- è´¨é‡ã€å‡†ç¡®æ€§æ¯”é€Ÿåº¦æ›´é‡è¦
- ç”Ÿæˆé•¿ç¯‡å†…å®¹
- ç¼–å†™å’Œè°ƒè¯•ä»£ç 
- åˆ›å»ºè¯¦ç»†è®¡åˆ’
- éœ€è¦ä¸“ä¸šè¯„ä¼°

âŒ **ä¸å€¼å¾—ä½¿ç”¨**ï¼š
- å¯¹é€Ÿåº¦è¦æ±‚å¾ˆé«˜
- ä»»åŠ¡ç®€å•ï¼Œåˆå§‹è¾“å‡ºå·²è¶³å¤Ÿ
- æˆæœ¬æ•æ„Ÿçš„åœºæ™¯

---

## ðŸ“Š ä¸¤ç§åæ€æž¶æž„

### è‡ªæˆ‘åæ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æ™ºèƒ½ä½“ A      â”‚
â”‚                  â”‚
â”‚  ç”Ÿæˆ â†’ è‡ªè¯„ â†’ æ”¹è¿› â†’ å¾ªçŽ¯...
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹ï¼šç®€å•
ç¼ºç‚¹ï¼šå¯èƒ½æœ‰è®¤çŸ¥åè§
```

### ç”Ÿäº§è€…-è¯„è®ºè€…æž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ðŸ”¨ ç”Ÿäº§è€…      â”‚ â†â†’ â”‚   ðŸ” è¯„è®ºè€…      â”‚
â”‚  ä¸“æ³¨äºŽåˆ›ä½œ      â”‚    â”‚  ä¸“æ³¨äºŽæŒ‘é”™      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹ï¼šæ›´å®¢è§‚ã€æ›´ä¸“ä¸š
ç¼ºç‚¹ï¼šæ›´å¤æ‚ã€æ›´å¤šLLMè°ƒç”¨
```

---

## ðŸ“Š å››ç§æ¨¡å¼å¯¹æ¯”

| ç»´åº¦ | æç¤ºé“¾ | è·¯ç”± | å¹¶è¡ŒåŒ– | åæ€ |
|------|--------|------|--------|------|
| **æ ¸å¿ƒé—®é¢˜** | æ€Žä¹ˆèµ°ï¼Ÿ | èµ°å“ªæ¡è·¯ï¼Ÿ | èµ°å¤šå¿«ï¼Ÿ | èµ°å¾—å¥½ä¸å¥½ï¼Ÿ |
| **æ‰§è¡Œæ–¹å¼** | é¡ºåº | æ¡ä»¶åˆ†æ”¯ | å¹¶å‘ | è¿­ä»£å¾ªçŽ¯ |
| **æ¯”å–»** | æµæ°´çº¿ | è°ƒåº¦ä¸­å¿ƒ | å¤šè½¦é“ | è´¨æ£€ç«™ |
| **ä¼˜åŒ–ç›®æ ‡** | å¯é æ€§ | çµæ´»æ€§ | æ•ˆçŽ‡ | è´¨é‡ |

### ç»„åˆå…¬å¼

> **é«˜è´¨é‡æ™ºèƒ½ä½“ = æç¤ºé“¾ï¼ˆå¯é æ€§ï¼‰ + è·¯ç”±ï¼ˆçµæ´»æ€§ï¼‰ + å¹¶è¡ŒåŒ–ï¼ˆæ•ˆçŽ‡ï¼‰ + åæ€ï¼ˆè´¨é‡ï¼‰**

---

## ðŸ“ æ ¸å¿ƒè¦ç‚¹

| è¦ç‚¹ | è¯´æ˜Ž |
|------|------|
| **è‡ªæˆ‘çº é”™** | åæ€ä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿè¿­ä»£æ”¹è¿›è¾“å‡º |
| **åé¦ˆå¾ªçŽ¯** | æ‰§è¡Œ â†’ è¯„ä¼° â†’ ä¼˜åŒ– â†’ è¿­ä»£ |
| **ç”Ÿäº§è€…-è¯„è®ºè€…** | èŒè´£åˆ†ç¦»æé«˜å®¢è§‚æ€§å’Œä¸“ä¸šæ€§ |
| **å…ƒè®¤çŸ¥** | ä¸ºæ™ºèƒ½ä½“å¢žåŠ è‡ªæˆ‘æ„è¯†å’Œé€‚åº”èƒ½åŠ› |
| **è´¨é‡ä¼˜å…ˆ** | é€‚ç”¨äºŽè´¨é‡æ¯”é€Ÿåº¦æ›´é‡è¦çš„åœºæ™¯ |

---

## ðŸ”§ å·¥å…·æ”¯æŒ

| æ¡†æž¶ | åæ€å®žçŽ°æ–¹å¼ |
|------|--------------|
| **LangChain LCEL** | å•æ­¥åæ€å¾ªçŽ¯ |
| **LangGraph** | å®Œæ•´è¿­ä»£åæ€ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰ |
| **Google ADK** | å¤šæ™ºèƒ½ä½“ä¸²è”å·¥ä½œæµ |
| **Crew.AI** | æ”¯æŒåæ€é“¾ |

---

## ðŸ”— ç›¸å…³é˜…è¯»

- [æç¤ºé“¾æ¨¡å¼](/llms/agent/prompt-chain) - é¡ºåºæ‰§è¡Œçš„åŸºç¡€æ¨¡å¼
- [è·¯ç”±æ¨¡å¼](/llms/agent/routing) - åŠ¨æ€å†³ç­–çš„åˆ†æ”¯æ¨¡å¼
- [å¹¶è¡ŒåŒ–æ¨¡å¼](/llms/agent/parallelization) - åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡
- [Agentæ¦‚è¿°](/llms/agent/) - æ™ºèƒ½ä½“è®¾è®¡æ¨¡å¼å…¨è§ˆ

> **å‚è€ƒèµ„æº**ï¼š
> - [Agentic Design Patterns](https://github.com/ginobefun/agentic-design-patterns-cn)
> - [LangChain Documentation](https://www.langchain.com/)
> - [Google ADK Documentation](https://google.github.io/adk-docs/)
