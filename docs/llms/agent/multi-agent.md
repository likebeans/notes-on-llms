---
title: å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
description: å¤šæ™ºèƒ½ä½“åä½œæž¶æž„ - ä»Žå•Agentåˆ°Multi-Agent
---

# å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ

> è®©å¤šä¸ªAIæ™ºèƒ½ä½“åä½œå®Œæˆå¤æ‚ä»»åŠ¡

## ðŸŽ¯ æ ¸å¿ƒæ¦‚å¿µ

### ä¸ºä»€ä¹ˆéœ€è¦å¤šæ™ºèƒ½ä½“ï¼Ÿ

> æ¥æºï¼š[LangGraphå¤šæ™ºèƒ½ä½“ç³»ç»Ÿæƒå¨æŒ‡å—](https://dd-ff.blog.csdn.net/article/details/151153365)

::: tip å•Agentçš„å±€é™
å½“ä»»åŠ¡å¤æ‚åº¦å¢žåŠ æ—¶ï¼Œå•ä¸ªAgentå®¹æ˜“äº§ç”Ÿ**è®¤çŸ¥è¿‡è½½**ï¼š
- å·¥å…·å¤ªå¤šå¯¼è‡´é€‰æ‹©å›°éš¾
- ä¸Šä¸‹æ–‡çª—å£è¢«æ’‘æ»¡
- å•ç‚¹æ•…éšœé£Žé™©é«˜
- éš¾ä»¥å¹¶è¡Œå¤„ç†
:::

### å¤šæ™ºèƒ½ä½“çš„ä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜Ž |
|------|------|
| **ä¸“ä¸šåŒ–åˆ†å·¥** | æ¯ä¸ªAgentä¸“æ³¨ç‰¹å®šé¢†åŸŸ |
| **å¹¶è¡Œå¤„ç†** | å¤šä¸ªAgentåŒæ—¶å·¥ä½œ |
| **æ¨¡å—åŒ–** | ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€ç»´æŠ¤ |
| **å®¹é”™æ€§** | å•ä¸ªAgentå¤±è´¥ä¸å½±å“æ•´ä½“ |
| **å¯æ‰©å±•** | æŒ‰éœ€æ·»åŠ æ–°Agent |

---

## ðŸ“‹ å¤šæ™ºèƒ½ä½“åä½œæ¨¡å¼æ¦‚è¿°

> æ¥æºï¼š[Agentic Design Patterns - Multi-Agent Collaboration](https://github.com/ginobefun/agentic-design-patterns-cn)

### æ ¸å¿ƒåŽŸç†

å¤šæ™ºèƒ½ä½“åä½œåŸºäºŽ**ä»»åŠ¡åˆ†è§£åŽŸåˆ™**ï¼šå°†é«˜å±‚æ¬¡ç›®æ ‡æ‹†è§£ä¸ºè‹¥å¹²ç‹¬ç«‹çš„å­é—®é¢˜ï¼Œç„¶åŽå°†æ¯ä¸ªå­é—®é¢˜åˆ†é…ç»™æ‹¥æœ‰ç›¸åº”å·¥å…·ã€æ•°æ®æƒé™æˆ–æŽ¨ç†èƒ½åŠ›çš„æ™ºèƒ½ä½“æ¥å¤„ç†ã€‚

### ç³»ç»Ÿä¸‰è¦ç´ 

| è¦ç´  | è¯´æ˜Ž |
|------|------|
| **è§’è‰²ä¸ŽèŒè´£** | æ˜Žç¡®æ¯ä¸ªæ™ºèƒ½ä½“çš„ä¸“é•¿å’Œä»»åŠ¡èŒƒå›´ |
| **é€šä¿¡é€šé“** | æ™ºèƒ½ä½“ä¹‹é—´å¦‚ä½•äº¤æ¢ä¿¡æ¯ |
| **äº¤äº’åè®®** | å¼•å¯¼ååŒå·¥ä½œçš„ä»»åŠ¡æµç¨‹ |

### å…­ç§åä½œå½¢å¼

| å½¢å¼ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **é¡ºåºäº¤æŽ¥** | Aå®Œæˆ â†’ è¾“å‡ºç»™B â†’ Bå®Œæˆ | æµæ°´çº¿å¼å·¥ä½œæµ |
| **å¹¶è¡Œå¤„ç†** | Aã€Bã€CåŒæ—¶å·¥ä½œ â†’ åˆå¹¶ç»“æžœ | å¯å¹¶è¡Œçš„ç‹¬ç«‹å­ä»»åŠ¡ |
| **è¾©è®ºä¸Žå…±è¯†** | ä¸åŒè§†è§’è®¨è®º â†’ è¾¾æˆå…±è¯† | éœ€è¦å¤šè§’åº¦åˆ†æžçš„å†³ç­– |
| **å±‚çº§ç»“æž„** | ç®¡ç†è€…åˆ†é… â†’ æ‰§è¡Œè€…å®Œæˆ â†’ æ±‡æ€» | åè°ƒå¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“ |
| **ä¸“å®¶å›¢é˜Ÿ** | ç ”ç©¶å‘˜+æ’°ç¨¿äºº+ç¼–è¾‘åä½œ | è½¯ä»¶å¼€å‘ã€å†…å®¹åˆ›ä½œ |
| **è¯„å®¡è€…æ¨¡å¼** | åˆ›ä½œ â†’ è¯„å®¡ â†’ ä¿®æ”¹ â†’ è¾“å‡º | ä»£ç ç”Ÿæˆã€å­¦æœ¯å†™ä½œ |

### å…­ç§é€šä¿¡æž¶æž„

| æž¶æž„ | ç‰¹ç‚¹ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|------|
| **å•æ™ºèƒ½ä½“** | ç‹¬ç«‹è¿è¡Œï¼Œæ— äº¤äº’ | ç®€å•æ˜“ç®¡ç† | èƒ½åŠ›å—é™ |
| **ç½‘ç»œåŒ–** | ç‚¹å¯¹ç‚¹åŽ»ä¸­å¿ƒåŒ– | æ— å•ç‚¹æ•…éšœ | é€šä¿¡å¼€é”€å¤§ |
| **ç›‘ç£è€…** | ä¸­å¿ƒæž¢çº½åè°ƒ | èŒè´£æ¸…æ™° | å¯èƒ½ç“¶é¢ˆ |
| **ç›‘ç£è€…ä½œä¸ºå·¥å…·** | æä¾›èµ„æºè€ŒéžæŒ‡æŒ¥ | çµæ´» | è®¾è®¡å¤æ‚ |
| **å±‚çº§** | å¤šå±‚ç›‘ç£è€…ç»“æž„ | å¯æ‰©å±• | ç»“æž„å¤æ‚ |
| **è‡ªå®šä¹‰** | å®Œå…¨å®šåˆ¶åŒ– | æœ€å¤§çµæ´»æ€§ | éœ€æ·±å…¥ç†è§£ |

### ä¸ƒå¤§åº”ç”¨åœºæ™¯

| åœºæ™¯ | æ™ºèƒ½ä½“åˆ†å·¥ |
|------|------------|
| **å¤æ‚ç ”ç©¶** | æœç´¢ â†’ æ€»ç»“ â†’ è¶‹åŠ¿åˆ†æž â†’ æŠ¥å‘Š |
| **è½¯ä»¶å¼€å‘** | éœ€æ±‚åˆ†æž â†’ ç¼–ç  â†’ æµ‹è¯• â†’ æ–‡æ¡£ |
| **åˆ›æ„å†…å®¹** | è°ƒç ” â†’ æ–‡æ¡ˆ â†’ è®¾è®¡ â†’ æŽ’æœŸ |
| **è´¢åŠ¡åˆ†æž** | æ•°æ®èŽ·å– â†’ æƒ…ç»ªåˆ†æž â†’ æŠ€æœ¯åˆ†æž â†’ å»ºè®® |
| **å®¢æˆ·æ”¯æŒ** | ä¸€çº¿å¤„ç† â†’ ä¸“å®¶å‡çº§ |
| **ä¾›åº”é“¾** | ä¾›åº”å•† â†” åˆ¶é€ å•† â†” åˆ†é”€å•†ååŒ |
| **ç½‘ç»œè¿ç»´** | æŽ’æŸ¥ â†’ å®šä½ â†’ ä¿®å¤ |

### æž¶æž„é€‰æ‹©è€ƒé‡

| è€ƒè™‘å› ç´  | å½±å“ |
|----------|------|
| **ä»»åŠ¡å¤æ‚åº¦** | å¤æ‚ä»»åŠ¡éœ€è¦å±‚çº§æˆ–ç½‘ç»œåŒ– |
| **æ™ºèƒ½ä½“æ•°é‡** | æ•°é‡å¤šæ—¶éœ€è¦ç›‘ç£è€… |
| **è‡ªæ²»ç¨‹åº¦** | é«˜è‡ªæ²»é€‰ç½‘ç»œåŒ–ï¼Œä½Žè‡ªæ²»é€‰ç›‘ç£è€… |
| **é²æ£’æ€§è¦æ±‚** | é«˜é²æ£’æ€§é€‰ç½‘ç»œåŒ–ï¼ˆæ— å•ç‚¹æ•…éšœï¼‰ |

---

## ðŸ—ï¸ ä¸‰ç§åä½œæž¶æž„

### æž¶æž„å¯¹æ¯”

| æž¶æž„ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **ç½‘ç»œæ¨¡å¼** | Agenté—´ç›´æŽ¥é€šä¿¡ | å¹³ç­‰åä½œã€çµæ´»äº¤äº’ |
| **ç›‘ç£è€…æ¨¡å¼** | ä¸­å¿ƒåè°ƒæ‰€æœ‰Worker | ä»»åŠ¡åˆ†é…ã€æµç¨‹æŽ§åˆ¶ |
| **å±‚çº§æ¨¡å¼** | å¤šå±‚ç®¡ç†ç»“æž„ | å¤§åž‹å¤æ‚é¡¹ç›® |

### 1. ç›‘ç£è€…æ¨¡å¼ï¼ˆSupervisorï¼‰

```python
from langgraph.graph import StateGraph, END
from typing import TypedDict, Literal

class SupervisorState(TypedDict):
    messages: list
    next_worker: str

def supervisor(state: SupervisorState) -> SupervisorState:
    """ç›‘ç£è€…ï¼šå†³å®šä¸‹ä¸€æ­¥ç”±å“ªä¸ªWorkeræ‰§è¡Œ"""
    prompt = f"""æ ¹æ®å½“å‰ä»»åŠ¡çŠ¶æ€ï¼Œé€‰æ‹©ä¸‹ä¸€ä¸ªWorkerï¼š
- researcher: ä¿¡æ¯æ”¶é›†
- coder: ç¼–å†™ä»£ç 
- tester: æµ‹è¯•éªŒè¯
- FINISH: ä»»åŠ¡å®Œæˆ

å½“å‰æ¶ˆæ¯ï¼š{state['messages'][-1]}"""
    
    response = llm.generate(prompt)
    return {"next_worker": response.strip()}

def researcher(state): 
    result = do_research(state["messages"])
    return {"messages": [{"role": "researcher", "content": result}]}

def coder(state):
    result = write_code(state["messages"])
    return {"messages": [{"role": "coder", "content": result}]}

# æž„å»ºå›¾
graph = StateGraph(SupervisorState)
graph.add_node("supervisor", supervisor)
graph.add_node("researcher", researcher)
graph.add_node("coder", coder)

def route(state) -> str:
    if state["next_worker"] == "FINISH":
        return END
    return state["next_worker"]

graph.add_conditional_edges("supervisor", route)
graph.add_edge("researcher", "supervisor")
graph.add_edge("coder", "supervisor")
graph.set_entry_point("supervisor")
```

### 2. ç½‘ç»œæ¨¡å¼ï¼ˆNetworkï¼‰

```python
# Agenté—´å¯ç›´æŽ¥é€šä¿¡
def agent_a(state) -> dict:
    if needs_help_from_b(state):
        return {"next": "agent_b", "message": "éœ€è¦ä½ çš„å¸®åŠ©"}
    return {"result": "å®Œæˆ"}

def agent_b(state) -> dict:
    if needs_verification(state):
        return {"next": "agent_c", "message": "è¯·éªŒè¯"}
    return {"next": "agent_a", "message": "å·²å¤„ç†"}
```

---

## ðŸ”„ AutoGenå¤šæ™ºèƒ½ä½“å›¢é˜Ÿ

> æ¥æºï¼š[AutoGenå¤šæ™ºèƒ½ä½“å›¢é˜Ÿå®žæˆ˜æŒ‡å—](https://dd-ff.blog.csdn.net/article/details/149090900)

### RoundRobinGroupChat

```python
from autogen_agentchat.agents import AssistantAgent
from autogen_agentchat.teams import RoundRobinGroupChat

# åˆ›å»ºä¸“ä¸šåŒ–Agent
poet = AssistantAgent(
    name="poet",
    model_client=model_client,
    system_message="ä½ æ˜¯ä¸€ä½è¯—äººï¼Œæ“…é•¿åˆ›ä½œè¯—æ­Œã€‚"
)

critic = AssistantAgent(
    name="critic", 
    model_client=model_client,
    system_message="ä½ æ˜¯æ–‡å­¦è¯„è®ºå®¶ï¼Œæ“…é•¿æ”¹è¿›è¯—æ­Œã€‚"
)

# åˆ›å»ºè½®è¯¢å›¢é˜Ÿ
team = RoundRobinGroupChat(
    participants=[poet, critic],
    max_turns=10
)

# è¿è¡Œä»»åŠ¡
result = await team.run(task="åˆ›ä½œä¸€é¦–å…³äºŽæ˜¥å¤©çš„è¯—")
```

### SelectorGroupChatï¼ˆåŠ¨æ€é€‰æ‹©ï¼‰

```python
from autogen_agentchat.teams import SelectorGroupChat

# æ¨¡åž‹åŠ¨æ€é€‰æ‹©ä¸‹ä¸€ä¸ªå‘è¨€è€…
team = SelectorGroupChat(
    participants=[researcher, writer, editor],
    model_client=model_client,
    selector_prompt="æ ¹æ®å¯¹è¯é€‰æ‹©ä¸‹ä¸€ä¸ªAgent..."
)
```

---

## ðŸŽ­ åä½œè®¾è®¡æ¨¡å¼

### åæ€æ¨¡å¼ï¼ˆReflectionï¼‰

```python
# ç”Ÿæˆè€… + è¯„å®¡è€…å¾ªçŽ¯
generator â†’ reviewer â†’ refiner â†’ reviewer â†’ ... â†’ APPROVED
```

### åˆ†å·¥æ¨¡å¼

```python
# å¹¶è¡Œæ‰§è¡Œå­ä»»åŠ¡
planner â†’ [executor1, executor2, executor3] â†’ aggregator â†’ reporter
```

### è¾©è®ºæ¨¡å¼

```python
# æ­£åæ–¹è¾©è®ºï¼Œè£åˆ¤è¯„ä¼°
pro_agent â†â†’ con_agent â†’ judge â†’ conclusion
```

---

## ðŸ”— ç›¸å…³é˜…è¯»

- [Agentæ¦‚è¿°](/llms/agent/) - Agentæ•´ä½“æž¶æž„
- [è®°å¿†ç³»ç»Ÿ](/llms/agent/memory) - å¤šAgentçŠ¶æ€å…±äº«
- [è§„åˆ’ä¸ŽæŽ¨ç†](/llms/agent/planning) - ä»»åŠ¡åˆ†è§£åè°ƒ

> **ç›¸å…³æ–‡ç« **ï¼š
> - [LangGraphå¤šæ™ºèƒ½ä½“ç³»ç»Ÿæƒå¨æŒ‡å—](https://dd-ff.blog.csdn.net/article/details/151153365)
> - [AutoGenå¤šæ™ºèƒ½ä½“å›¢é˜Ÿå®žæˆ˜æŒ‡å—](https://dd-ff.blog.csdn.net/article/details/149090900)
> - [ç²¾é€šäººæœºååŒï¼šLangGraphäº¤äº’å¼æ™ºèƒ½ä½“](https://dd-ff.blog.csdn.net/article/details/151149262)

> **å¤–éƒ¨èµ„æº**ï¼š
> - [LangGraph Multi-Agent](https://langchain-ai.github.io/langgraph/concepts/multi_agent/)
> - [AutoGen Teams](https://microsoft.github.io/autogen/docs/tutorial/teams)
