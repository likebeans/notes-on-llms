---
title: å¼‚å¸¸å¤„ç†ä¸Žæ¢å¤
description: Agent å¼‚å¸¸å¤„ç†ä¸Žæ¢å¤æœºåˆ¶ - æž„å»ºå¯é çš„æ™ºèƒ½ä½“ç³»ç»Ÿ
---

# å¼‚å¸¸å¤„ç†ä¸Žæ¢å¤

> è®©AIæ™ºèƒ½ä½“åœ¨é¢å¯¹æ„å¤–æ—¶ä¾ç„¶å¯é è¿è¡Œ

## ðŸŽ¯ æ ¸å¿ƒæ¦‚å¿µ

> æ¥æºï¼š[Agentic Design Patterns - Exception Handling and Recovery](https://github.com/ginobefun/agentic-design-patterns-cn)

### ä¸ºä»€ä¹ˆéœ€è¦å¼‚å¸¸å¤„ç†ï¼Ÿ

::: tip å®šä¹‰
**å¼‚å¸¸å¤„ç†ä¸Žæ¢å¤**æ¨¡å¼ä½¿AIæ™ºèƒ½ä½“å…·å¤‡ç®¡ç†çªå‘çŠ¶å†µã€é”™è¯¯å’Œæ•…éšœçš„èƒ½åŠ›ï¼Œç¡®ä¿å³ä½¿åœ¨é¢ä¸´æŒ‘æˆ˜æ—¶ä¹Ÿèƒ½æŒç»­è¿è¡Œã€‚
:::

### çŽ°å®žä¸–ç•Œçš„æŒ‘æˆ˜

| é—®é¢˜ç±»åž‹ | å…·ä½“è¡¨çŽ° |
|----------|----------|
| **å·¥å…·æ•…éšœ** | APIè°ƒç”¨å¤±è´¥ã€æ•°æ®åº“å®•æœº |
| **ç½‘ç»œé—®é¢˜** | è¶…æ—¶ã€è¿žæŽ¥ä¸­æ–­ |
| **æ— æ•ˆæ•°æ®** | æ ¼å¼é”™è¯¯ã€æŸåæ–‡ä»¶ |
| **æœåŠ¡ä¸å¯ç”¨** | ç¬¬ä¸‰æ–¹æœåŠ¡ç»´æŠ¤ã€é™æµ |
| **æ„å¤–è¾“å…¥** | ç”¨æˆ·è¾“å…¥è¶…å‡ºé¢„æœŸ |

### å¼‚å¸¸å¤„ç†çš„ä»·å€¼

| æ— å¼‚å¸¸å¤„ç† | æœ‰å¼‚å¸¸å¤„ç† |
|------------|------------|
| âŒ é‡åˆ°é”™è¯¯å°±å´©æºƒ | âœ… èƒ½å¤Ÿåº”å¯¹å„ç§æ„å¤– |
| âŒ æ— æ³•å®Œæˆä»»åŠ¡ | âœ… å³ä½¿å‡ºé”™ä¹Ÿèƒ½ç»§ç»­è¿è¡Œ |
| âŒ é”™è¯¯ä¿¡æ¯ä¸å‹å¥½ | âœ… ä¼˜é›…åœ°å¤„ç†é—®é¢˜ |
| âŒ éš¾ä»¥éƒ¨ç½²å…³é”®åº”ç”¨ | âœ… é€‚åˆå…³é”®åœºæ™¯éƒ¨ç½² |

---

## ðŸ”„ ä¸‰å¤§æ ¸å¿ƒçŽ¯èŠ‚

### æ•´ä½“æµç¨‹

```
â‘  é”™è¯¯æ£€æµ‹ â†’ â‘¡ é”™è¯¯å¤„ç† â†’ â‘¢ æ¢å¤
   å‘çŽ°é—®é¢˜      åº”å¯¹é—®é¢˜      æ¢å¤ç¨³å®š
```

| çŽ¯èŠ‚ | æ ¸å¿ƒç­–ç•¥ |
|------|----------|
| **é”™è¯¯æ£€æµ‹** | ç›‘æŽ§è¾“å‡ºã€æ£€æŸ¥APIå“åº”ã€è¶…æ—¶æ£€æµ‹ã€å¼‚å¸¸ç›‘æµ‹ |
| **é”™è¯¯å¤„ç†** | æ—¥å¿—è®°å½•ã€é‡è¯•æœºåˆ¶ã€å›žé€€æ–¹æ¡ˆã€ä¼˜é›…é™çº§ã€é€šçŸ¥æœºåˆ¶ |
| **æ¢å¤** | çŠ¶æ€å›žæ»šã€è¯Šæ–­åˆ†æžã€è‡ªæˆ‘çº æ­£ã€ä¸ŠæŠ¥å‡çº§ |

---

## ðŸ” é”™è¯¯æ£€æµ‹ï¼ˆError Detectionï¼‰

### æ£€æµ‹å†…å®¹

| æ£€æµ‹é¡¹ | è¯´æ˜Ž | ç¤ºä¾‹ |
|--------|------|------|
| **æ— æ•ˆè¾“å‡º** | å·¥å…·è¿”å›žç»“æžœæ ¼å¼é”™è¯¯ | JSONè§£æžå¤±è´¥ |
| **APIé”™è¯¯ç ** | HTTPçŠ¶æ€ç æŒ‡ç¤ºé”™è¯¯ | 404ã€500ã€503 |
| **å“åº”è¶…æ—¶** | æœåŠ¡å“åº”æ—¶é—´å¼‚å¸¸é•¿ | >30ç§’æ— å“åº” |
| **æ— æ„ä¹‰å“åº”** | åç¦»é¢„æœŸæ ¼å¼çš„å†…å®¹ | ä¹±ç ã€ç©ºå†…å®¹ |

### æ£€æµ‹æ–¹å¼

| æ–¹å¼ | è¯´æ˜Ž |
|------|------|
| **ä¸»åŠ¨æ£€æµ‹** | éªŒè¯å·¥å…·è¾“å‡ºã€æ£€æŸ¥çŠ¶æ€ç ã€è®¾ç½®è¶…æ—¶ |
| **è¢«åŠ¨æ£€æµ‹** | æ•èŽ·å¼‚å¸¸ã€å…¶ä»–æ™ºèƒ½ä½“ç›‘æŽ§ã€ä¸“ç”¨ç›‘æŽ§ç³»ç»Ÿ |

---

## âš™ï¸ é”™è¯¯å¤„ç†ï¼ˆError Handlingï¼‰

### äº”ç§å¤„ç†ç­–ç•¥

| ç­–ç•¥ | è¯´æ˜Ž | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **æ—¥å¿—è®°å½•** | è¯¦ç»†è®°å½•é”™è¯¯ä¿¡æ¯ä¾¿äºŽè°ƒè¯• | æ‰€æœ‰é”™è¯¯ |
| **é‡è¯•æœºåˆ¶** | é‡æ–°å°è¯•ï¼ˆå¯è°ƒæ•´å‚æ•°ï¼‰ | çž¬æ—¶é”™è¯¯ã€ç½‘ç»œæ³¢åŠ¨ |
| **å›žé€€æ–¹æ¡ˆ** | ä½¿ç”¨æ›¿ä»£ç­–ç•¥æˆ–æ–¹æ³• | ä¸»æ–¹æ¡ˆå¤±è´¥ |
| **ä¼˜é›…é™çº§** | ç»´æŒéƒ¨åˆ†åŠŸèƒ½è¿è¡Œ | æ— æ³•å®Œå…¨æ¢å¤ |
| **é€šçŸ¥æœºåˆ¶** | å‘ç”¨æˆ·æˆ–ç³»ç»Ÿå‘å‡ºè­¦æŠ¥ | éœ€è¦äººå·¥å¹²é¢„ |

### é‡è¯•ç­–ç•¥

```
é‡è¯•æ–¹å¼ï¼š
â”œâ”€â”€ ç«‹å³é‡è¯•
â”œâ”€â”€ æŒ‡æ•°é€€é¿ï¼ˆ1s â†’ 2s â†’ 4s â†’ 8sï¼‰
â”œâ”€â”€ å¸¦æŠ–åŠ¨çš„é€€é¿ï¼ˆé¿å…é›·é¸£æ•ˆåº”ï¼‰
â”œâ”€â”€ æœ€å¤§é‡è¯•æ¬¡æ•°é™åˆ¶
â””â”€â”€ è°ƒæ•´å‚æ•°é‡è¯•
```

### å›žé€€æ–¹æ¡ˆç¤ºä¾‹

```
ä¸»æ–¹æ¡ˆï¼šè°ƒç”¨GPT-4 API
   â†“ å¤±è´¥
å›žé€€1ï¼šè°ƒç”¨GPT-3.5 API
   â†“ å¤±è´¥
å›žé€€2ï¼šä½¿ç”¨æœ¬åœ°ç¼“å­˜ç»“æžœ
   â†“ å¤±è´¥
å›žé€€3ï¼šè¿”å›žé»˜è®¤å“åº”
```

### ä¼˜é›…é™çº§ç¤ºä¾‹

```
æ™ºèƒ½å®¢æœé™çº§ï¼š
å®Œæ•´ï¼šAIè‡ªåŠ¨å›žç­” + æŸ¥è¯¢æ•°æ®åº“ + æ‰§è¡Œæ“ä½œ
éƒ¨åˆ†ï¼šAIè‡ªåŠ¨å›žç­” + æŸ¥è¯¢æ•°æ®åº“ï¼ˆæ“ä½œè½¬äººå·¥ï¼‰
æœ€å°ï¼šè½¬æŽ¥äººå·¥å®¢æœ
```

---

## ðŸ”§ æ¢å¤ï¼ˆRecoveryï¼‰

### å››ç§æ¢å¤ç­–ç•¥

| ç­–ç•¥ | è¯´æ˜Ž | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **çŠ¶æ€å›žæ»š** | æ’¤é”€æœ€è¿‘æ›´æ”¹ï¼Œæ¢å¤ç¨³å®šçŠ¶æ€ | æ“ä½œé€ æˆå‰¯ä½œç”¨ |
| **è¯Šæ–­åˆ†æž** | æ·±å…¥è°ƒæŸ¥é”™è¯¯åŽŸå›  | éœ€è¦æ‰¾å‡ºæ ¹æœ¬åŽŸå›  |
| **è‡ªæˆ‘çº æ­£** | è°ƒæ•´è®¡åˆ’ã€é€»è¾‘æˆ–å‚æ•° | å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ |
| **ä¸ŠæŠ¥å‡çº§** | äº¤ç»™äººç±»æˆ–æ›´é«˜çº§ç³»ç»Ÿ | å¤æ‚æˆ–ä¸¥é‡é—®é¢˜ |

### æ¢å¤æµç¨‹

```
æ£€æµ‹åˆ°é”™è¯¯
    â”‚
    â”œâ”€â†’ å¯è‡ªåŠ¨æ¢å¤ â†’ è‡ªæˆ‘çº æ­£ â†’ é‡æ–°å°è¯•
    â”‚
    â””â”€â†’ æ— æ³•è‡ªåŠ¨æ¢å¤ â†’ ä¸ŠæŠ¥å‡çº§ â†’ äººå·¥å¹²é¢„
    â”‚
    â–¼
æ¢å¤ç¨³å®šè¿è¡Œ
```

---

## ðŸ”— ä¸Žåæ€æ¨¡å¼ç»“åˆ

å¼‚å¸¸å¤„ç†å¯ä»¥ä¸Ž**åæ€æ¨¡å¼**ç»“åˆä½¿ç”¨ï¼š

```
åˆæ¬¡å°è¯• â†’ æ‰§è¡Œå¤±è´¥
    â†“
åæ€ï¼šåˆ†æžå¤±è´¥åŽŸå› 
    â†“
è°ƒæ•´ï¼šæ”¹è¿›æç¤ºè¯/ç­–ç•¥
    â†“
é‡æ–°å°è¯• â†’ æˆåŠŸ/ç»§ç»­åæ€
```

---

## ðŸ“‹ å…­å¤§åº”ç”¨åœºæ™¯

| åœºæ™¯ | é”™è¯¯æƒ…å†µ | å¤„ç†æ–¹å¼ |
|------|----------|----------|
| **å®¢æœèŠå¤©æœºå™¨äºº** | æ•°æ®åº“å®•æœº | æ£€æµ‹é”™è¯¯ â†’ å‘ŠçŸ¥ç”¨æˆ· â†’ å»ºè®®ç¨åŽå†è¯• â†’ è½¬äººå·¥ |
| **é‡‘èžäº¤æ˜“** | èµ„é‡‘ä¸è¶³/å¸‚åœºä¼‘å¸‚ | è®°å½•é”™è¯¯ â†’ åœæ­¢é‡è¯• â†’ é€šçŸ¥ç”¨æˆ· â†’ è°ƒæ•´ç­–ç•¥ |
| **æ™ºèƒ½å®¶å±…** | ç½‘ç»œé—®é¢˜ | æ£€æµ‹æ•…éšœ â†’ é‡è¯• â†’ é€šçŸ¥ç”¨æˆ· â†’ å»ºè®®æ‰‹åŠ¨å¹²é¢„ |
| **æ•°æ®å¤„ç†** | æŸåæ–‡ä»¶ | è·³è¿‡æ–‡ä»¶ â†’ è®°å½•é”™è¯¯ â†’ ç»§ç»­å¤„ç† â†’ æœ€åŽæŠ¥å‘Š |
| **ç½‘é¡µæŠ“å–** | CAPTCHA/404/503 | æš‚åœ â†’ ä½¿ç”¨ä»£ç† â†’ æŠ¥å‘Šå¤±è´¥URL |
| **æœºå™¨äººåˆ¶é€ ** | æŠ“å–å¤±è´¥ | ä¼ æ„Ÿå™¨æ£€æµ‹ â†’ é‡è¯• â†’ æé†’æ“ä½œå‘˜ |

---

## ðŸ’¡ æ ¸å¿ƒè¦ç‚¹

### ä½¿ç”¨åœºæ™¯

- éƒ¨ç½²åœ¨**åŠ¨æ€ã€çœŸå®žä¸–ç•ŒçŽ¯å¢ƒ**
- å¯èƒ½é­é‡**ç³»ç»Ÿæ•…éšœã€å·¥å…·é”™è¯¯ã€ç½‘ç»œé—®é¢˜**
- å¯¹**æ“ä½œå¯é æ€§**è¦æ±‚æžé«˜

### ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›

| èƒ½åŠ› | è¯´æ˜Ž |
|------|------|
| **æ£€æµ‹** | éªŒè¯è¾“å‡ºã€æ£€æŸ¥çŠ¶æ€ç ã€è¶…æ—¶ç›‘æŽ§ |
| **å¤„ç†** | æ—¥å¿—ã€é‡è¯•ã€å›žé€€ã€é™çº§ã€é€šçŸ¥ |
| **æ¢å¤** | å›žæ»šã€è¯Šæ–­ã€è‡ªæˆ‘çº æ­£ã€ä¸ŠæŠ¥ |

### ä¸€å¥è¯æ€»ç»“

> **å¼‚å¸¸å¤„ç†ä¸Žæ¢å¤æ¨¡å¼å°†AIæ™ºèƒ½ä½“ä»Žè„†å¼±ä¸å¯é çš„ç³»ç»Ÿï¼Œè½¬å˜ä¸ºå¼ºå¤§ã€å¯é ã€èƒ½å¤Ÿåœ¨ä¸å¯é¢„æµ‹çŽ¯å¢ƒä¸­æœ‰æ•ˆè¿è¡Œçš„ç»„ä»¶ã€‚**

---

## ðŸ”— ç›¸å…³é˜…è¯»

- [åæ€æ¨¡å¼](/llms/agent/reflection) - å¯ä¸Žå¼‚å¸¸å¤„ç†ç»“åˆä½¿ç”¨
- [è§„åˆ’æ¨¡å¼](/llms/agent/planning) - å¼‚å¸¸æ—¶å¯è§¦å‘é‡è§„åˆ’
- [å·¥å…·è°ƒç”¨](/llms/agent/tool-calling) - å·¥å…·è°ƒç”¨æ˜¯å¼‚å¸¸é«˜å‘ç‚¹

> **å‚è€ƒæ–‡çŒ®**ï¼š
> - [Agentic Design Patterns - Exception Handling](https://github.com/ginobefun/agentic-design-patterns-cn)
> - McConnell, S. (2004). Code Complete (2nd ed.). Microsoft Press.
