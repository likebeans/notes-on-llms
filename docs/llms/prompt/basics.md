---
title: åŸºç¡€æç¤ºæŠ€æœ¯
description: Zero-shotã€Few-shotã€æ€ç»´é“¾ç­‰æ ¸å¿ƒæŠ€æœ¯
---

# åŸºç¡€æç¤ºæŠ€æœ¯

> æŽŒæ¡ä¸ŽLLMå¯¹è¯çš„åŸºç¡€æŠ€èƒ½â€”â€”æç¤ºè¯å·¥ç¨‹æ˜¯"è‰ºæœ¯ä¸Žç§‘å­¦çš„ç»“åˆ"

## ðŸ“– æ ¸å¿ƒåŽŸç†

### æ¨¡åž‹å“åº”æœºåˆ¶

æ¨¡åž‹å¹¶éžé€šè¿‡ç‹¬ç«‹"é—®ç­”"æ¨¡å—å›žç­”é—®é¢˜ï¼Œå…¶è¾“å‡ºæ˜¯åŸºäºŽåºžå¤§è®­ç»ƒæ•°æ®ï¼Œå¯¹**"è·Ÿéšè¾“å…¥æç¤ºè¯åŽæœ€å¯èƒ½å‡ºçŽ°çš„è¯è¯­åºåˆ—"**çš„é¢„æµ‹ã€‚

::: tip æç¤ºè¯çš„æœ¬è´¨
æç¤ºè¯æ˜¯ä¸€ç§è‡ªç„¶è¯­è¨€æ–‡æœ¬ï¼Œç”¨äºŽæè¿°AIæ¨¡åž‹åº”æ‰§è¡Œçš„ä»»åŠ¡ã€‚æ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡æä¾›æ¸…æ™°çš„"è·¯çº¿å›¾"ï¼Œå……åˆ†é‡Šæ”¾æ¨¡åž‹å†…åœ¨èƒ½åŠ›ï¼Œåœ¨ç”¨æˆ·æ„å›¾ä¸Žæ¨¡åž‹ç”Ÿæˆè¿‡ç¨‹é—´æž¶èµ·æ¡¥æ¢ã€‚
:::

### æç¤ºè¯æŠ€æœ¯åˆ†ç±»

| ç±»åˆ« | æŠ€æœ¯ | å¤æ‚åº¦ |
|------|------|--------|
| **åŸºç¡€èŒƒå¼** | Zero-shotã€Few-shot | â­ |
| **æŽ¨ç†å¢žå¼º** | CoTã€Self-Consistency | â­â­ |
| **ç»“æž„æŽ§åˆ¶** | è§’è‰²è®¾å®šã€æ ¼å¼çº¦æŸ | â­â­ |
| **é«˜çº§æŽ¨ç†** | ToTã€GoTã€ReAct | â­â­â­ |

---

## ðŸŽ¯ Zero-shot Prompting

### æ¦‚å¿µ

ç›´æŽ¥å‘æ¨¡åž‹æé—®ï¼Œä¸æä¾›ä»»ä½•ç¤ºä¾‹ã€‚æ˜¯å¤§å¤šæ•°ä»»åŠ¡çš„**é¦–é€‰èµ·ç‚¹**ï¼Œå®Œå…¨ä¾èµ–æ¨¡åž‹é¢„è®­ç»ƒé˜¶æ®µçš„çŸ¥è¯†å’ŒæŒ‡ä»¤éµå¾ªèƒ½åŠ›ã€‚

```
ç”¨æˆ·ï¼šå°†ä»¥ä¸‹å¥å­ç¿»è¯‘æˆè‹±æ–‡ï¼šä»Šå¤©å¤©æ°”å¾ˆå¥½ã€‚
æ¨¡åž‹ï¼šToday the weather is very nice.
```

### é€‚ç”¨åœºæ™¯

- ç®€å•ã€å®šä¹‰æ˜Žç¡®çš„ä»»åŠ¡
- æ¨¡åž‹èƒ½åŠ›è¶³å¤Ÿï¼ˆå¤§æ¨¡åž‹æ•ˆæžœæ›´å¥½ï¼‰
- å¿«é€ŸåŽŸåž‹éªŒè¯
- **æŽ¨ç†æ¨¡åž‹ï¼ˆo1ç³»åˆ—ï¼‰é¦–é€‰**â€”â€”åŽŸç”ŸæŽ¨ç†èƒ½åŠ›æ— éœ€ç¤ºä¾‹

### æ¸…æ™°æ€§ä¸Žç‰¹å¼‚æ€§

| ç±»åž‹ | ç¤ºä¾‹ | æ•ˆæžœ |
|------|------|------|
| **æ¨¡ç³Šæç¤º** | "è°ˆè°ˆäººå·¥æ™ºèƒ½" | âŒ è¾“å‡ºæ— æ•ˆã€å‘æ•£ |
| **æ˜Žç¡®æç¤º** | "è§£é‡Šäººå·¥æ™ºèƒ½åœ¨åŒ»ç–—ä¿å¥é¢†åŸŸçš„å½±å“" | âœ… èšç„¦ã€æœ‰ä»·å€¼ |

**æœ€ä½³å®žè·µ**ï¼š
- æ ¸å¿ƒæŒ‡ä»¤ç½®äºŽ**å¼€å¤´**
- ç”¨åˆ†éš”ç¬¦ï¼ˆ`###`æˆ–`"""`ï¼‰åŒºåˆ†æŒ‡ä»¤ä¸Žä¸Šä¸‹æ–‡ä¿¡æ¯
- é¿å…æŒ‡ä»¤ä¸Žå†…å®¹æ··æ·†

### ä¼˜åŒ–æŠ€å·§

```python
# âŒ æ¨¡ç³ŠæŒ‡ä»¤
prompt_bad = "å†™ç‚¹ä¸œè¥¿"

# âœ… æ˜Žç¡®æŒ‡ä»¤
prompt_good = """
è¯·å†™ä¸€æ®µå…³äºŽäººå·¥æ™ºèƒ½çš„ä»‹ç»ï¼Œè¦æ±‚ï¼š
- é•¿åº¦ï¼š100-150å­—
- é£Žæ ¼ï¼šç§‘æ™®å‘
- é‡ç‚¹ï¼šAIçš„åº”ç”¨åœºæ™¯
"""
```

---

## ðŸŽ¯ Few-shot Prompting

### æ¦‚å¿µ

æä¾›å‡ ä¸ªç¤ºä¾‹ï¼Œè®©æ¨¡åž‹å­¦ä¹ æ¨¡å¼åŽå®Œæˆä»»åŠ¡ã€‚å½“Zero-shotæ•ˆæžœä¸ä½³æ—¶ï¼Œé€šè¿‡**"åœ¨ä¸Šä¸‹æ–‡ä¸­å­¦ä¹ "**å¼•å¯¼æ¨¡åž‹ç†è§£ä»»åŠ¡è¦æ±‚ï¼ˆéžæ°¸ä¹…æ€§è®­ç»ƒï¼‰ã€‚

::: warning æŽ¨ç†æ¨¡åž‹æ³¨æ„
å¯¹äºŽo1/o3ç­‰æŽ¨ç†æ¨¡åž‹ï¼Œé€šå¸¸**ä¸éœ€è¦**Few-shotç¤ºä¾‹ã€‚å¦‚æžœç¡®å®žéœ€è¦ï¼Œå¿…é¡»ç¡®ä¿ç¤ºä¾‹ä¸ŽæŒ‡ä»¤**é«˜åº¦ä¸€è‡´**ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ç³Ÿç³•ç»“æžœã€‚
:::

```
ç”¨æˆ·ï¼š
æƒ…æ„Ÿåˆ†ç±»ä»»åŠ¡ï¼š

è¾“å…¥ï¼šè¿™å®¶é¤åŽ…çš„èœå¤ªå¥½åƒäº†ï¼
è¾“å‡ºï¼šæ­£é¢

è¾“å…¥ï¼šç­‰äº†ä¸¤å°æ—¶æ‰ä¸Šèœï¼Œä½“éªŒå¾ˆå·®ã€‚
è¾“å‡ºï¼šè´Ÿé¢

è¾“å…¥ï¼šè¿™éƒ¨ç”µå½±è®©æˆ‘çœ‹å“­äº†ï¼Œå¤ªæ„Ÿäººäº†ã€‚
è¾“å‡ºï¼š
æ¨¡åž‹ï¼šæ­£é¢
```

### ç¤ºä¾‹æ•°é‡é€‰æ‹©

| ç¤ºä¾‹æ•° | æ•ˆæžœ | Tokenæˆæœ¬ |
|--------|------|-----------|
| 1-2ä¸ª | åŸºç¡€ | ä½Ž |
| 3-5ä¸ª | è‰¯å¥½ | ä¸­ |
| 5-10ä¸ª | æœ€ä½³ | é«˜ |

### ç¤ºä¾‹é€‰æ‹©åŽŸåˆ™

1. **å¤šæ ·æ€§**ï¼šè¦†ç›–ä¸åŒæƒ…å†µ
2. **ä»£è¡¨æ€§**ï¼šåæ˜ çœŸå®žåˆ†å¸ƒ
3. **ç›¸å…³æ€§**ï¼šä¸Žç›®æ ‡ä»»åŠ¡ç›¸ä¼¼
4. **è´¨é‡**ï¼šç¤ºä¾‹æœ¬èº«è¦æ­£ç¡®

::: tip æœ‰è¶£å‘çŽ°
ç ”ç©¶è¡¨æ˜Žï¼Œç¤ºä¾‹çš„**æ ¼å¼æ¯”æ ‡ç­¾æ­£ç¡®æ€§æ›´é‡è¦**ã€‚å³ä½¿æ ‡ç­¾é”™è¯¯ï¼Œåªè¦æ ¼å¼ä¸€è‡´ï¼Œæ¨¡åž‹ä»èƒ½å­¦ä¹ ä»»åŠ¡ç»“æž„ã€‚
:::

```python
def select_examples(query, example_pool, k=5):
    """é€‰æ‹©ä¸ŽæŸ¥è¯¢æœ€ç›¸å…³çš„ç¤ºä¾‹"""
    from sentence_transformers import SentenceTransformer
    from sklearn.metrics.pairwise import cosine_similarity
    
    model = SentenceTransformer('all-MiniLM-L6-v2')
    
    query_emb = model.encode([query])
    example_embs = model.encode([e['input'] for e in example_pool])
    
    similarities = cosine_similarity(query_emb, example_embs)[0]
    top_indices = similarities.argsort()[-k:][::-1]
    
    return [example_pool[i] for i in top_indices]
```

---

## ðŸ§  æ€ç»´é“¾ï¼ˆChain-of-Thoughtï¼‰

> æ¥æºï¼š[å¾®è°ƒé«˜çº§æŽ¨ç†å¤§æ¨¡åž‹ï¼ˆCOTï¼‰ç»¼åˆæŒ‡å—](https://dd-ff.blog.csdn.net/article/details/153210150)

### æ¦‚å¿µ

è®©æ¨¡åž‹é€æ­¥å±•ç¤ºæŽ¨ç†è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ç»™å‡ºç­”æ¡ˆã€‚CoTæ˜¯æç¤ºå·¥ç¨‹çš„**é‡Œç¨‹ç¢‘æŠ€æœ¯**ï¼Œé€šè¿‡ä¸­é—´æŽ¨ç†æ­¥éª¤è§£é”å¤æ‚æŽ¨ç†èƒ½åŠ›ã€‚

### ä¸ºä»€ä¹ˆCoTæœ‰æ•ˆï¼Ÿ

| ç†è®º | è§£é‡Š |
|------|------|
| **å¯å˜è®¡ç®—é‡** | æ¯ä¸ªä¸­é—´Tokenéƒ½ç»è¿‡å®Œæ•´Transformerå¤„ç†ï¼Œ"è´­ä¹°"æ›´å¤šè®¡ç®—æ—¶é—´ |
| **é€»è¾‘å±•å¼€** | å°†å¤æ‚æŽ¨ç†"å±•å¼€"åœ¨æ—¶é—´è½´ä¸Šé€æ­¥è§£å†³ |
| **è¯­ä¹‰é”šå®š** | è‡ªç„¶è¯­è¨€ä½œä¸ºæ€ç»´è½½ä½“ï¼Œé”šå®šé—®é¢˜çš„è¯­ä¹‰é€»è¾‘ |

::: danger æŽ¨ç†æ¨¡åž‹è­¦å‘Š
å¯¹äºŽo1/o3ç­‰åŽŸç”ŸæŽ¨ç†æ¨¡åž‹ï¼Œ**é¿å…ä½¿ç”¨CoTæç¤º**ï¼è¿™äº›æ¨¡åž‹å·²åœ¨å†…éƒ¨æ‰§è¡Œé«˜è´¨é‡æŽ¨ç†ï¼Œå¤–éƒ¨CoTä¼šå¹²æ‰°å…¶åŽŸç”Ÿè¿‡ç¨‹ã€‚
:::

### Zero-shot CoT

```
ç”¨æˆ·ï¼šå°æ˜Žæœ‰5ä¸ªè‹¹æžœï¼Œç»™äº†å°çº¢2ä¸ªï¼Œåˆä¹°äº†3ä¸ªï¼Œè¯·é—®çŽ°åœ¨æœ‰å‡ ä¸ªï¼Ÿ
è¯·ä¸€æ­¥ä¸€æ­¥æ€è€ƒã€‚

æ¨¡åž‹ï¼šè®©æˆ‘é€æ­¥åˆ†æžï¼š
1. å°æ˜Žæœ€åˆæœ‰5ä¸ªè‹¹æžœ
2. ç»™äº†å°çº¢2ä¸ªï¼Œå‰©ä½™ï¼š5 - 2 = 3ä¸ª
3. åˆä¹°äº†3ä¸ªï¼ŒçŽ°åœ¨æœ‰ï¼š3 + 3 = 6ä¸ª
ç­”æ¡ˆï¼š6ä¸ªè‹¹æžœ
```

### Few-shot CoT

```
ç”¨æˆ·ï¼š
é—®é¢˜ï¼šä¸€ä¸ªå•†åº—æœ‰24ä¸ªè‹¹æžœï¼Œå–æŽ‰äº†8ä¸ªï¼Œåˆè¿›è´§äº†12ä¸ªï¼ŒçŽ°åœ¨æœ‰å¤šå°‘ï¼Ÿ
æ€è€ƒï¼š
- åˆå§‹ï¼š24ä¸ª
- å–æŽ‰åŽï¼š24 - 8 = 16ä¸ª
- è¿›è´§åŽï¼š16 + 12 = 28ä¸ª
ç­”æ¡ˆï¼š28ä¸ª

é—®é¢˜ï¼šå°æ˜Žæœ‰5ä¸ªè‹¹æžœï¼Œç»™äº†å°çº¢2ä¸ªï¼Œåˆä¹°äº†3ä¸ªï¼ŒçŽ°åœ¨æœ‰å‡ ä¸ªï¼Ÿ
æ€è€ƒï¼š
```

### CoTæœ€ä½³å®žè·µ

| æŠ€å·§ | è¯´æ˜Ž |
|------|------|
| **æ˜Žç¡®è§¦å‘è¯** | "è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ€è€ƒ" |
| **ç»“æž„åŒ–æ­¥éª¤** | ä½¿ç”¨ç¼–å·æˆ–åˆ†éš”ç¬¦ |
| **æœ€ç»ˆç­”æ¡ˆæ ‡è®°** | æ˜Žç¡®æ ‡æ³¨"ç­”æ¡ˆï¼š" |
| **é”™è¯¯æ£€æŸ¥** | æç¤ºæ¨¡åž‹éªŒè¯ç»“æžœ |

---

## ðŸŽ¯ Self-Consistency

### æ¦‚å¿µ

å¤šæ¬¡é‡‡æ ·ï¼Œå–ä¼—æ•°ä½œä¸ºæœ€ç»ˆç­”æ¡ˆã€‚

```python
import openai
from collections import Counter

def self_consistency(prompt: str, n_samples: int = 5) -> str:
    """è‡ªæ´½æ€§æŽ¨ç†"""
    answers = []
    
    for _ in range(n_samples):
        response = openai.chat.completions.create(
            model="gpt-4",
            messages=[{"role": "user", "content": prompt}],
            temperature=0.7  # å…è®¸ä¸€å®šéšæœºæ€§
        )
        # æå–ç­”æ¡ˆ
        answer = extract_answer(response.choices[0].message.content)
        answers.append(answer)
    
    # æŠ•ç¥¨å–ä¼—æ•°
    most_common = Counter(answers).most_common(1)[0][0]
    return most_common
```

### é€‚ç”¨åœºæ™¯

- æ•°å­¦æŽ¨ç†
- é€»è¾‘åˆ¤æ–­
- äº‹å®žæ€§é—®ç­”

---

## ðŸ“‹ è§’è‰²è®¾å®šï¼ˆRole Promptingï¼‰

### æ¦‚å¿µ

ä¸ºæ¨¡åž‹è®¾å®šç‰¹å®šè§’è‰²ï¼Œå½±å“å…¶å›žç­”é£Žæ ¼å’Œä¸“ä¸šåº¦ã€‚

```
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„Pythonå¼€å‘ä¸“å®¶ï¼Œæ‹¥æœ‰10å¹´ç»éªŒã€‚
è¯·ä»¥ä¸“ä¸šä½†æ˜“æ‡‚çš„æ–¹å¼å›žç­”ä»¥ä¸‹é—®é¢˜ï¼š

ç”¨æˆ·é—®é¢˜ï¼šä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Ÿ
```

### å¸¸ç”¨è§’è‰²æ¨¡æ¿

| è§’è‰² | é€‚ç”¨åœºæ™¯ |
|------|----------|
| ä¸“å®¶ | æŠ€æœ¯é—®ç­” |
| æ•™å¸ˆ | æ¦‚å¿µè§£é‡Š |
| ç¼–è¾‘ | æ–‡æœ¬ä¼˜åŒ– |
| æ‰¹è¯„å®¶ | è´¨é‡è¯„ä¼° |
| åŠ©æ‰‹ | é€šç”¨ä»»åŠ¡ |

---

## ðŸ“ ç»“æž„åŒ–è¾“å‡º

### æ¦‚å¿µ

æ˜Žç¡®æŒ‡å®šè¾“å‡ºæ ¼å¼ï¼Œä¾¿äºŽåŽç»­ç¨‹åºå¤„ç†ã€‚

```python
STRUCTURED_PROMPT = """
è¯·åˆ†æžä»¥ä¸‹æ–‡æœ¬ï¼Œè¿”å›žJSONæ ¼å¼ï¼š

æ–‡æœ¬ï¼š{text}

è¿”å›žæ ¼å¼ï¼š
{{
  "sentiment": "positive/negative/neutral",
  "confidence": 0.0-1.0,
  "keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
  "summary": "ä¸€å¥è¯æ€»ç»“"
}}
"""

# OpenAI JSONæ¨¡å¼
response = openai.chat.completions.create(
    model="gpt-4-turbo",
    messages=[{"role": "user", "content": prompt}],
    response_format={"type": "json_object"}  # å¼ºåˆ¶JSONè¾“å‡º
)
```

### æ ¼å¼é€‰é¡¹

| æ ¼å¼ | é€‚ç”¨åœºæ™¯ | ä¼˜åŠ¿ |
|------|----------|------|
| **JSON** | APIé›†æˆã€æ•°æ®å¤„ç† | ç»“æž„åŒ–ã€æ˜“è§£æž |
| **Markdown** | æ–‡æ¡£ç”Ÿæˆã€æŠ¥å‘Š | å¯è¯»æ€§å¥½ |
| **åˆ—è¡¨** | æ­¥éª¤è¯´æ˜Žã€è¦ç‚¹æ€»ç»“ | æ¸…æ™°ç®€æ´ |
| **è¡¨æ ¼** | å¯¹æ¯”åˆ†æžã€æ•°æ®å±•ç¤º | ä¿¡æ¯å¯†åº¦é«˜ |

---

## âš¡ æ¨¡åž‹é€‰æ‹©æŒ‡å—

### ç³»ç»Ÿ1 vs ç³»ç»Ÿ2

| ä»»åŠ¡ç±»åž‹ | æŽ¨èæ¨¡åž‹ | æç¤ºç­–ç•¥ |
|----------|----------|----------|
| ç®€å•é—®ç­”ã€èŠå¤© | GPT-4o | Zero-shot/Few-shot |
| åˆ›æ„å†™ä½œ | GPT-4o | è§’è‰²è®¾å®š + æ ¼å¼çº¦æŸ |
| æ•°å­¦æŽ¨ç† | o1/o3 | **ç®€æ´ç›´æŽ¥ï¼Œä¸ç”¨CoT** |
| ä»£ç è°ƒè¯• | o1/o3 | æ˜Žç¡®çº¦æŸæ¡ä»¶ |
| å¤æ‚è§„åˆ’ | o1/o3 | æ¸…æ™°ç›®æ ‡æè¿° |

### æç¤ºç­–ç•¥é€‰æ‹©æµç¨‹

```
ä»»åŠ¡ â†’ æ˜¯å¦ç®€å•ï¼Ÿ
  â”‚
  â”œâ”€ æ˜¯ â†’ Zero-shotï¼ˆé¦–é€‰ï¼‰
  â”‚
  â””â”€ å¦ â†’ æ¨¡åž‹ç±»åž‹ï¼Ÿ
           â”‚
           â”œâ”€ ä¼ ç»Ÿæ¨¡åž‹ â†’ Few-shot + CoT
           â”‚
           â””â”€ æŽ¨ç†æ¨¡åž‹ â†’ ç®€æ´ç›´æŽ¥ + æ˜Žç¡®çº¦æŸ
```

---

## ðŸ”— ç›¸å…³é˜…è¯»

- [é«˜çº§æç¤ºæŠ€æœ¯](/llms/prompt/advanced) - ReActã€ToTç­‰
- [ä¸Šä¸‹æ–‡å·¥ç¨‹](/llms/prompt/context) - åŠ¨æ€ä¸Šä¸‹æ–‡ç®¡ç†
- [æç¤ºè¯æ¦‚è¿°](/llms/prompt/) - æŠ€æœ¯å…¨æ™¯

> **ç›¸å…³æ–‡ç« **ï¼š
> - [ä»ŽæŒ‡ä»¤åˆ°æ™ºèƒ½ï¼šæç¤ºè¯ä¸Žä¸Šä¸‹æ–‡å·¥ç¨‹](https://dd-ff.blog.csdn.net/article/details/152799914)
> - [æŽŒæ¡AIæŽ¨ç†ï¼šä»Ž"æç¤ºå·¥ç¨‹"åˆ°"æŽ¨ç†æž¶æž„"](https://dd-ff.blog.csdn.net/article/details/154479954)
> - [OpenAI Prompt Engineeringä¸ŽPrompt Cachingå®žæˆ˜](https://dd-ff.blog.csdn.net/article/details/154450002)

> **å¤–éƒ¨èµ„æº**ï¼š
> - [OpenAI Prompt Engineering Guide](https://platform.openai.com/docs/guides/prompt-engineering)
> - [Prompt Engineering Guide](https://www.promptingguide.ai/)
